<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>YouTube Channel Player</title>
<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 700px;
        margin: auto;
        padding: 20px;
        background: #f9f9f9;
    }

    #playerContainer {
        width: 100%;
        margin-bottom: 20px;
    }

    #searchBar {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
    }

    #searchInput {
        flex: 1;
        padding: 10px;
        font-size: 16px;
    }

    #searchBtn {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
    }

    .video-item {
        background: white;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 6px;
        cursor: pointer;
        border: 1px solid #ddd;
    }

    .video-item:hover {
        background: #eef;
    }

</style>
</head>
<body>

<h2>My Channel Player</h2>

<!-- ðŸ”¹ PLAYER AT TOP -->
<div id="playerContainer">
    <iframe id="ytplayer" width="100%" height="350"
        src="" frameborder="0"
        allowfullscreen>
    </iframe>
</div>

<!-- ðŸ”¹ SEARCH BAR -->
<div id="searchBar">
    <input type="text" id="searchInput" placeholder="Search inside channelâ€¦">
    <button id="searchBtn">Search</button>
</div>

<!-- ðŸ”¹ RESULTS BELOW -->
<div id="results"></div>

<script>
// --- YOUR API KEY & CHANNEL ID ---
const API_KEY = "YOUR_API_KEY_HERE";
const CHANNEL_ID = "YOUR_CHANNEL_ID_HERE";

// Default first video load
loadChannelVideos();

// Load first video + list
async function loadChannelVideos() {
    const url =
      `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=10`;

    const res = await fetch(url);
    const data = await res.json();

    showVideos(data.items, true);
}

// Search inside channel
document.getElementById("searchBtn").onclick = () => {
    let q = document.getElementById("searchInput").value.trim();
    if (q.length === 0) return;

    searchInChannel(q);
};

async function searchInChannel(query) {
    const url =
      `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&type=video&q=${encodeURIComponent(query)}&maxResults=10`;

    const res = await fetch(url);
    const data = await res.json();

    showVideos(data.items, false);
}

// Display videos in the result list
function showVideos(videos, autoplayFirst) {
    let results = document.getElementById("results");
    results.innerHTML = "";

    if (videos.length === 0) {
        results.innerHTML = "<p>No videos found.</p>";
        return;
    }

    if (autoplayFirst) {
        playVideo(videos[0].id.videoId);
    }

    videos.forEach(v => {
        let id = v.id.videoId;
        let title = v.snippet.title;

        let box = document.createElement("div");
        box.className = "video-item";
        box.textContent = title;
        box.onclick = () => playVideo(id);

        results.appendChild(box);
    });
}

// Load video into player
function playVideo(videoId) {
    document.getElementById("ytplayer").src =
        `https://www.youtube.com/embed/${videoId}?autoplay=1`;
}
</script>

</body>
</html>
